<%= t.include("partials/_head.html") %>


<% var data = json.curry_timeline %>



  <div class="container">
    <div class="intro">
    	<img src="./assets/imgs/hero.jpg">
    	<h1 class="headline"><%= data.headline %></h1>
      <div class="pubdate">March 7, 2018</div>

 				<% data.intro.forEach(function(text) { %>
        <p><%= text.value%></p>
				<%});%>

    </div>

    <div id="timeline">

			<% data.dates.forEach(function(d) { %>



    		<% if (d.image){ %>
    		<div class="entry">
	    		<div class="info">
	    			<div class="date"><%= d.date%></div>
	    			<div class="text image"><%= d.text%></div>
	    		</div>
	    		<div class="image">
	    			<img src="<%=d.image%>">
            <div class="caption"><%= d.caption%></div>
	    		</div>
	    	</div>

        <% } else if (d.textonly){ %>
        <div class="entry full">
          <div class="info">
            <div class="date"><%= d.date%></div>
            <div class="text center"><%= d.text%></div>
          </div>
        </div>

    		<% } else if (d.video){ %>
    		<div class="entry full">
	    		<div class="info">
	    			<div class="date"><%= d.date%></div>
	    			<div class="text"><%= d.text%></div>
	    		</div>
	    		<div class="video"><div class='embed-container'><iframe src='<%= d.video %>' frameborder='0' allowfullscreen></iframe></div>
	        <div class="caption"><span class="byline"></span></div></div>
	      </div>



    		<% } else if (d.full){ %>
    		<div class="entry full">
	    		<div class="info">
	    			<div class="date"><%= d.date%></div>
	    			<div class="text center"><%= d.text%></div>
	    		</div>
	    		<div class="image">
	    			<img src="<%=d.full%>">
	    		</div>
	      </div>

        <% } else if (d.graphic){ %>
        <div class="entry full">
          <div class="info">
            <div class="date"><%= d.date%></div>
            <div class="text graphic"><%= d.text%></div>
          </div>
          <div class="image graphic">
            <img src="<%=d.graphic%>">
          </div>
        </div>



    		<% } else if (d.interactive){ %>
    		<div class="full">
	    		<div class="info">
	    			<div class="date"><%= d.date%></div>
	    			<div class="text"><%= d.text%></div>
	    		</div>
	    		<div class="interactive">
          <div class="interactive-chart">
            <div class="interactive-hed"><%=d["interactive-hed"]%></div>
            <div class="interactive-deck"><%=d["interactive-deck"]%></div>
            <div class="legend-container">
              <div class="element"><div class="threes-swath"><div class="legend-text">Three-pointers made</div></div></div>
              <div class="element"><div class="projectedthrees-swath"><div class="legend-text">Projected three-pointers</div></div></div>
            </div>

            <div class="chart-container">
              <div class="age-info">Age: <span class="age"></span></div>
              <div id="threes-chart"></div>
            </div>
            <div class="interactive-credit">Data reporter: Mike Massa   &bull; <a href="mailto:mmassa@sfchronicle.com">mmassa@sfchronicle.com</a></div>
            <div class="interactive-credit">Interactive producer: Emma O'Neill  &bull; <a href="mailto:eoneill@sfchronicle.com">eoneill@sfchronicle.com</a>   &bull; <a href = "https://twitter.com/emmaruthoneill" target="_blank">@emmaruthoneill</a></div>
            <div class="note"><%=d["interactive-note"]%></div>
            <div class="note"><%=d["interactive-note2"]%></div>
          </div>
        </div>
  			<% } %>

			<%});%>

    </div>
    <div class="credits">
      <p>Graphics by Tam Duong</p>
      <p>Development by Lucio Villa</p>
    </div>
  </div>





<script>
  var threesData = <%= JSON.stringify(json.transposed) %>
</script>

<script src="app.js" async></script>
<%= t.include("partials/_footer.html") %>
